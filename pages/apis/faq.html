<div id="faqPage" class="page-section active">
  <header class="page-header">
    <h1>FAQ API workspace</h1>
    <p>
      Publish a structured FAQ feed for app and web surfaces. The builder keeps
      questions, categories, featured flags, and HTML answers aligned with the
      JSON served from <code>api/faq/v1/faq_entries.json</code>.
    </p>
  </header>

  <section class="workspace-dashboard" aria-label="Workspace overview">
    <div class="workspace-insight-grid">
      <md-elevated-card class="insight-card">
        <div class="insight-card-header">
          <span class="material-symbols-outlined insight-icon">help_center</span>
          <span class="insight-label">FAQs tracked</span>
        </div>
        <p class="insight-value" id="faqTotalCount">0</p>
        <p class="insight-helper">Live count mirrors the builder list.</p>
      </md-elevated-card>
      <md-elevated-card class="insight-card">
        <div class="insight-card-header">
          <span class="material-symbols-outlined insight-icon">star</span>
          <span class="insight-label">Featured answers</span>
        </div>
        <p class="insight-value" id="faqFeaturedCount">0</p>
        <p class="insight-helper">Highlighted in home experiences.</p>
      </md-elevated-card>
      <md-elevated-card class="insight-card">
        <div class="insight-card-header">
          <span class="material-symbols-outlined insight-icon">symptoms</span>
          <span class="insight-label">Icon coverage</span>
        </div>
        <p class="insight-value" id="faqIconCoverage">0/0</p>
        <p class="insight-helper">Ensure every entry references a Material icon.</p>
      </md-elevated-card>
    </div>

    <div class="workspace-secondary-grid">
      <md-filled-card class="workspace-plan">
        <div class="card-body">
          <div class="plan-header">
            <h2>Today's pipeline</h2>
            <span class="plan-updated">Updated as you edit</span>
          </div>
          <ol class="plan-list">
            <li>
              <span class="plan-step-title">Draft clear questions</span>
              <span class="plan-step-meta">Keep them scoped to one concern.</span>
            </li>
            <li>
              <span class="plan-step-title">Pair with succinct HTML answers</span>
              <span class="plan-step-meta">Use paragraphs and lists for readability.</span>
            </li>
            <li>
              <span class="plan-step-title">Validate & export</span>
              <span class="plan-step-meta">Replace <code>faq_entries.json</code> in the repo.</span>
            </li>
          </ol>
          <div class="plan-actions">
            <md-text-button id="faqResetButton" has-icon>
              <md-icon slot="icon"
                ><span class="material-symbols-outlined">refresh</span></md-icon
              >
              Clear workspace
            </md-text-button>
          </div>
        </div>
      </md-filled-card>

      <md-filled-card class="workspace-release">
        <div class="card-body">
          <div class="release-header">
            <h2>Workspace status</h2>
            <p id="faqWorkspacePulse">Awaiting first entry.</p>
          </div>
          <ul class="release-tips">
            <li>All questions ship under the <strong>general</strong> category.</li>
            <li>Featured answers should include a shorter home answer snippet.</li>
            <li>Icon symbols use Google&apos;s Material Symbols catalog.</li>
          </ul>
        </div>
      </md-filled-card>
    </div>
  </section>

  <md-filled-card class="guidance-card">
    <div class="card-body">
      <h2>Before you start</h2>
      <ul>
        <li>
          Required fields include <strong>id</strong>, <strong>question</strong>,
          and <strong>answerHtml</strong>. The builder enforces export readiness.
        </li>
        <li>
          Keep <strong>category</strong> set to <code>general</code> unless a new
          FAQ surface requires additional groupings.
        </li>
        <li>
          <strong>homeAnswerHtml</strong> should be a condensed summary for cards
          that appear on the API Console home page or Android app hubs.
        </li>
        <li>
          Use <strong>Import JSON</strong> to iterate on the existing payload or
          <strong>Fetch from URL</strong> to review published builds.
        </li>
      </ul>
    </div>
  </md-filled-card>

  <md-filled-card class="builder-remote-card" id="faqRemoteImport">
    <div class="card-body">
      <div class="builder-remote-header">
        <div>
          <h2>Fetch existing JSON</h2>
          <p>Load a deployed payload directly into the workspace.</p>
        </div>
      </div>
      <div class="builder-remote-controls">
        <md-outlined-text-field
          id="faqFetchInput"
          type="url"
          label="JSON URL"
          placeholder="https://example.com/faq_entries.json"
          supporting-text="Paste a direct link to the current FAQ payload"
          spellcheck="false"
        >
          <md-icon slot="leading-icon"
            ><span class="material-symbols-outlined">link</span></md-icon
          >
        </md-outlined-text-field>
        <md-filled-tonal-button id="faqFetchButton" has-icon>
          <md-icon slot="icon"
            ><span class="material-symbols-outlined">cloud_download</span></md-icon
          >
          Fetch from URL
        </md-filled-tonal-button>
      </div>
      <div
        class="builder-remote-presets"
        aria-label="Quick fetch shortcuts"
      >
        <span class="builder-remote-presets-label">Quick links</span>
        <md-text-button
          has-icon
          id="faqPresetButton"
          data-faq-preset="api/faq/v1/faq_entries.json"
        >
          <md-icon slot="icon"
            ><span class="material-symbols-outlined">download</span></md-icon
          >
          Repo · Release
        </md-text-button>
      </div>
      <p id="faqFetchStatus" class="builder-remote-status" role="status">
        Ready to fetch.
      </p>
    </div>
  </md-filled-card>

  <md-filled-card class="builder-remote-card" id="faqIconsCard">
    <div class="card-body">
      <div class="builder-remote-header">
        <div>
          <h2>Google icons catalog</h2>
          <p>
            Pull the latest Material Symbols index to power the icon autocomplete
            menu.
          </p>
        </div>
      </div>
      <div class="builder-remote-controls">
        <md-filled-tonal-button id="faqRefreshIcons" has-icon>
          <md-icon slot="icon"
            ><span class="material-symbols-outlined">refresh</span></md-icon
          >
          Refresh icon list
        </md-filled-tonal-button>
        <span class="builder-remote-helper"
          >Loaded icons: <span id="faqIconCount">0</span></span
        >
      </div>
      <p id="faqIconStatus" class="builder-remote-status" role="status">
        Fetching Material Symbols catalog…
      </p>
    </div>
  </md-filled-card>

  <section class="api-builder" id="faqBuilder" data-builder-type="faq">
    <div class="builder-toolbar">
      <div class="builder-toolbar-actions">
        <md-filled-button id="faqAddEntry" has-icon>
          <md-icon slot="icon"
            ><span class="material-symbols-outlined">add</span></md-icon
          >
          Add FAQ
        </md-filled-button>
        <md-outlined-button id="faqImportButton" has-icon>
          <md-icon slot="icon"
            ><span class="material-symbols-outlined">upload</span></md-icon
          >
          Import JSON
        </md-outlined-button>
        <input
          type="file"
          id="faqImportInput"
          accept="application/json"
          hidden
        />
      </div>
      <div class="builder-toolbar-meta">
        <div class="toolbar-status" role="status" aria-live="polite">
          <span class="toolbar-status-label">Validation</span>
          <span class="toolbar-status-value" id="faqToolbarStatus"
            >Awaiting input</span
          >
        </div>
      </div>
    </div>

    <div class="builder-layout builder-columns">
      <div class="builder-forms" id="faqEntries" aria-live="polite"></div>
      <aside class="builder-preview" aria-label="JSON preview">
        <div class="preview-header">
          <h2>Preview &amp; export</h2>
          <p>Changes update automatically as you edit entries.</p>
        </div>
        <textarea
          id="faqPreview"
          class="preview-textarea"
          readonly
          spellcheck="false"
          aria-label="FAQ JSON preview"
        ></textarea>
        <div
          class="preview-validation"
          id="faqValidation"
          role="status"
          aria-live="polite"
        ></div>
        <div class="preview-actions">
          <md-filled-tonal-button id="faqCopyButton" has-icon>
            <md-icon slot="icon"
              ><span class="material-symbols-outlined">content_copy</span></md-icon
            >
            Copy JSON
          </md-filled-tonal-button>
          <md-outlined-button id="faqDownloadButton" has-icon trailing-icon>
            Download
            <md-icon slot="icon"
              ><span class="material-symbols-outlined">download</span></md-icon
            >
          </md-outlined-button>
        </div>
      </aside>
    </div>
  </section>

  <datalist id="faqIconOptions"></datalist>
</div>
