<div id="faqPage" class="page-section app-shell-panel active">
  <header class="page-header">
    <h1>FAQ API workspace</h1>
    <p>Publish a structured FAQ feed for app and web surfaces. The builder keeps questions, categories, featured flags, search tags, and HTML answers aligned with the GitHub Pages datasets defined in <code>./api/faq/v1/debug/catalog.json</code>. Use the catalog picker to merge multiple question sources for a product or fetch a single JSON file when iterating locally.</p>
  </header>
  <section class="faq-screen" data-faq-screen="chooser" aria-label="Select a workflow">
    <section class="faq-onboarding" aria-label="Workflow picker">
      <div class="faq-onboarding__header">
        <p class="faq-onboarding__eyebrow">Start with one workflow</p>
        <h2>Choose how you want to work on FAQs</h2>
        <p class="faq-onboarding__helper">Pick the path that matches your goal. The workspace will open the matching screen and keep you on one focused flow.</p>
      </div>
      <div class="faq-onboarding__grid">
        <button type="button" class="faq-landing-card" data-faq-mode="catalog" aria-pressed="false">
          <span class="faq-landing-card__icon material-symbols-outlined">inventory_2</span>
          <div class="faq-landing-card__body">
            <p class="faq-landing-card__eyebrow">Catalog</p>
            <p class="faq-landing-card__title">Edit catalog.json</p>
            <p class="faq-landing-card__copy">Switch between debug or release and manage the source list.</p>
          </div>
        </button>
        <button type="button" class="faq-landing-card" data-faq-mode="faqs" aria-pressed="false">
          <span class="faq-landing-card__icon material-symbols-outlined">help_center</span>
          <div class="faq-landing-card__body">
            <p class="faq-landing-card__eyebrow">Product FAQs</p>
            <p class="faq-landing-card__title">Edit per-product FAQs</p>
            <p class="faq-landing-card__copy">Load a product from the catalog and add or edit its FAQ entries.</p>
          </div>
        </button>
      </div>
      <p id="faqModeStatus" class="faq-onboarding__status" role="status">Select a workflow to continue.</p>
    </section>
  </section>
    <section class="faq-screen" data-faq-screen="workspace" aria-label="FAQ workspace" hidden="">
    <section class="workspace-dashboard" aria-label="Workspace overview">
      <div class="workspace-insight-grid">
        <article class="insight-card">
          <div class="insight-card-header">
            <span class="material-symbols-outlined insight-icon">help_center</span> <span class="insight-label">FAQs tracked</span>
          </div>
          <p class="insight-value" id="faqTotalCount">0</p>
          <p class="insight-helper">Live count mirrors the builder list.</p>
        </article>
        <article class="insight-card">
          <div class="insight-card-header">
            <span class="material-symbols-outlined insight-icon">star</span> <span class="insight-label">Featured answers</span>
          </div>
          <p class="insight-value" id="faqFeaturedCount">0</p>
          <p class="insight-helper">Highlighted in home experiences.</p>
        </article>
        <article class="insight-card">
          <div class="insight-card-header">
            <span class="material-symbols-outlined insight-icon">symptoms</span> <span class="insight-label">Icon coverage</span>
          </div>
          <p class="insight-value" id="faqIconCoverage">0/0</p>
          <p class="insight-helper">Ensure every entry references a Material icon.</p>
        </article>
      </div>
      <div class="workspace-secondary-grid">
        <div class="card-body">
          <div class="plan-header">
            <h2>Today's pipeline</h2><span class="plan-updated">Updated as you edit</span>
          </div>
          <ol class="plan-list">
            <li><span class="plan-step-title">Draft clear questions</span> <span class="plan-step-meta">Keep them scoped to one concern.</span></li>
            <li><span class="plan-step-title">Pair with succinct HTML answers</span> <span class="plan-step-meta">Use paragraphs and lists for readability.</span></li>
            <li><span class="plan-step-title">Validate & export</span> <span class="plan-step-meta">Refresh <code>index.json</code> and category files in the repo.</span></li>
          </ol>
          <div class="plan-actions">
            <md-filled-tonal-button id="faqResetButton">
              <md-icon slot="icon">refresh</md-icon>
              <span>Clear workspace</span>
            </md-filled-tonal-button>
          </div>
        </div>
        <div class="card-body">
          <div class="release-header">
            <h2>Workspace status</h2>
            <p id="faqWorkspacePulse">Awaiting first entry.</p>
          </div>
          <ul class="release-tips">
            <li>Assign one or more categories per FAQ when it helps with grouping.</li>
            <li>Feature the answers that deserve extra visibility in app hubs.</li>
            <li>Icon symbols use Google's Material Symbols catalog.</li>
          </ul>
        </div>
      </div>
    </section>
    <section class="faq-nav" aria-label="FAQ workspace navigation">
      <div class="faq-nav__header">
        <div class="faq-nav__header-actions">
          <md-outlined-button id="faqStartOverButton">
            <md-icon slot="icon">arrow_back</md-icon>
            <span>Start over</span>
          </md-outlined-button>
          <p class="faq-segmented__helper">Switch workflows without leaving the FAQ route.</p>
        </div>
        <div class="faq-segmented" role="tablist">
          <button type="button" class="faq-segmented__button active" data-faq-panel-control="catalog" role="tab" aria-selected="true" aria-controls="faqPanelCatalog"><span class="material-symbols-outlined">inventory_2</span> <span>Catalog</span></button> <button type="button" class="faq-segmented__button" data-faq-panel-control="faqs" role="tab" aria-selected="false" aria-controls="faqPanelFaqs"><span class="material-symbols-outlined">help_center</span> <span>FAQs</span></button>
        </div>
      </div>
    </section>
    <section class="faq-panel" data-faq-panel="catalog" id="faqPanelCatalog">
      <div class="card-body">
        <h2>Catalog structure</h2>
        <ul>
          <li><strong>schemaVersion</strong> tracks breaking changes across builds. The default is <code>1</code>.</li>
          <li>Each <strong>product</strong> declares its <code>name</code>, <code>productId</code>, <code>key</code>, and <strong>questionSources</strong> to merge.</li>
          <li>Toggle between <strong>debug</strong> and <strong>release</strong> to load and edit the matching catalog before exporting.</li>
        </ul>
      </div>
      <div class="card-body">
        <div class="builder-remote-header">
          <div>
            <h2>Load catalog JSON</h2>
            <p>Pull the debug or release catalog to start editing products and their FAQ modules.</p>
          </div>
        </div>
        <div class="builder-remote-controls builder-remote-controls--stacked">
          <md-outlined-text-field id="faqCatalogSourceInput" label="Catalog source URL" spellcheck="false" autocomplete="off"></md-outlined-text-field>
          <div class="builder-remote-actions">
            <md-filled-button id="faqCatalogLoadButton">
              <md-icon slot="icon">cloud_download</md-icon>
              <span>Load catalog</span>
            </md-filled-button>
            <md-outlined-button id="faqCatalogRefresh">
              <md-icon slot="icon">refresh</md-icon>
              <span>Refresh</span>
            </md-outlined-button>
          </div>
        </div>
        <div class="builder-remote-presets builder-remote-presets--buttons" aria-label="Catalog presets">
          <span class="builder-remote-presets-label">Build channel</span>
          <md-outlined-button data-faq-catalog-preset="debug">
            <md-icon slot="icon">download</md-icon>
            <span>Debug catalog</span>
          </md-outlined-button>
          <md-outlined-button data-faq-catalog-preset="release">
            <md-icon slot="icon">download</md-icon>
            <span>Release catalog</span>
          </md-outlined-button>
        </div>
        <p id="faqCatalogStatus" class="builder-remote-status" role="status">Choose debug or release to load the FAQ catalog.</p>
      </div>
      <section class="builder-layout builder-columns" id="faqCatalogBuilder">
        <div class="builder-forms catalog-forms">
          <div class="catalog-schema" id="faqCatalogSchemaField"></div>
          <div class="catalog-actions">
            <div>
              <h2>Catalog products</h2>
              <p class="catalog-helper">Define every product and the FAQ sources it pulls together.</p>
            </div>
            <div class="catalog-actions__buttons">
              <md-filled-tonal-button id="faqCatalogAddProduct">
                <md-icon slot="icon">add_circle</md-icon>
                <span>Add product</span>
              </md-filled-tonal-button>
              <md-outlined-button id="faqCatalogReset">
                <md-icon slot="icon">restart_alt</md-icon>
                <span>Reset catalog</span>
              </md-outlined-button>
            </div>
          </div>
          <div id="faqCatalogProducts" class="catalog-products" aria-live="polite"></div>
        </div>
        <aside class="builder-preview" aria-label="Catalog JSON preview">
          <div class="preview-header">
            <h2>Catalog preview</h2>
            <p>Exports the schema version and every product definition.</p>
          </div>
          <textarea id="faqCatalogPreview" class="preview-textarea" readonly spellcheck="false" aria-label="Catalog JSON preview"></textarea>
          <div class="preview-validation" id="faqCatalogValidation" role="status" aria-live="polite"></div>
          <div class="preview-actions">
            <md-filled-tonal-button id="faqCatalogCopyButton">
              <md-icon slot="icon">content_copy</md-icon>
              <span>Copy JSON</span>
            </md-filled-tonal-button>
            <md-outlined-button id="faqCatalogDownloadButton">
              <md-icon slot="icon">download</md-icon>
              <span>Download</span>
            </md-outlined-button>
          </div>
        </aside>
      </section>
    </section>
    <section class="faq-panel" data-faq-panel="faqs" id="faqPanelFaqs" hidden="">
      <section class="builder-remote-card faq-product-loader" aria-label="Product FAQ loader">
        <div class="card-body">
          <div class="builder-remote-header">
            <div>
              <h2>Add new product FAQs</h2>
              <p>Pick a product from the catalog or paste a single JSON to edit its FAQs.</p>
            </div>
          </div>
          <div class="builder-remote-picker" aria-label="Product selection">
            <div class="builder-remote-picker-select" id="faqCatalogSelect"></div>
            <md-filled-tonal-button id="faqCatalogFetchButton">
              <md-icon slot="icon">fact_check</md-icon>
              <span id="faqCatalogButtonLabel">Fetch selected product</span>
            </md-filled-tonal-button>
          </div>
          <p id="faqFetchStatus" class="builder-remote-status" role="status">Ready to fetch.</p>
        </div>
      </section>
      <section class="api-builder" id="faqBuilder" data-builder-type="faq">
        <div class="builder-toolbar">
          <div class="builder-toolbar-actions">
            <md-filled-tonal-button id="faqAddEntry">
              <md-icon slot="icon">add</md-icon>
              <span>Add FAQ</span>
            </md-filled-tonal-button>
            <md-outlined-button id="faqImportButton">
              <md-icon slot="icon">upload</md-icon>
              <span>Import JSON</span>
            </md-outlined-button>
            <input type="file" id="faqImportInput" accept="application/json" hidden="">
          </div>
          <div class="builder-toolbar-meta">
            <div class="toolbar-status" role="status" aria-live="polite">
              <span class="toolbar-status-label">Validation</span> <span class="toolbar-status-value" id="faqToolbarStatus">Awaiting input</span>
            </div>
            <div class="builder-toolbar-fetch">
              <md-outlined-text-field id="faqFetchInput" label="Load FAQs from URL" spellcheck="false" autocomplete="off"></md-outlined-text-field>
              <md-filled-tonal-button id="faqFetchButton">
                <md-icon slot="icon">cloud_download</md-icon>
                <span>Fetch</span>
              </md-filled-tonal-button>
            </div>
          </div>
        </div>
        <div class="builder-layout builder-columns">
          <div class="builder-forms" id="faqEntries" aria-live="polite"></div>
          <aside class="builder-preview" aria-label="JSON preview">
            <div class="preview-header">
              <h2>Preview & export</h2>
              <p>Changes update automatically as you edit entries.</p>
            </div>
            <textarea id="faqPreview" class="preview-textarea" readonly spellcheck="false" aria-label="FAQ JSON preview"></textarea>
            <div class="preview-validation" id="faqValidation" role="status" aria-live="polite"></div>
            <div class="preview-actions">
              <md-filled-tonal-button id="faqCopyButton">
                <md-icon slot="icon">content_copy</md-icon>
                <span>Copy JSON</span>
              </md-filled-tonal-button>
              <md-outlined-button id="faqDownloadButton">
                <md-icon slot="icon">download</md-icon>
                <span>Download</span>
              </md-outlined-button>
            </div>
          </aside>
        </div>
      </section><datalist id="faqIconOptions">
    </datalist>
      <div id="faqIconPicker" class="faq-icon-picker" role="dialog" aria-modal="true" hidden="">
        <div class="faq-icon-picker__backdrop" id="faqIconPickerBackdrop" aria-hidden="true"></div>
        <div class="faq-icon-picker__panel" role="document">
          <header class="faq-icon-picker__header">
            <div>
              <h2>Select a Material icon</h2>
              <p>Search the Material Symbols catalog and insert the icon name automatically.</p>
            </div><button type="button" class="faq-icon-picker__close" id="faqIconPickerClose" aria-label="Close icon picker"><span class="material-symbols-outlined">close</span></button>
          </header>
          <div class="faq-icon-picker__meta">
            <span>Selected: <strong id="faqIconPickerSelection">None</strong></span> <span>Showing <strong id="faqIconPickerResultCount">0</strong> icons</span>
          </div>
          <div class="faq-icon-picker__search">
            <label class="api-field"><span class="api-field-label">Search icons</span> <input type="search" id="faqIconPickerSearch" class="api-input" placeholder="Search by name…" spellcheck="false" autocomplete="off"></label>
          </div>
          <p class="faq-icon-picker__loading" id="faqIconPickerLoading">Loading Material Symbols…</p>
          <p class="faq-icon-picker__limit" id="faqIconPickerLimit" hidden="">Showing the first 400 results. Continue typing to narrow the list.</p>
          <p class="faq-icon-picker__empty" id="faqIconPickerEmpty" hidden="">No icons match "<span id="faqIconPickerQuery"></span>"</p>
          <div class="faq-icon-picker__grid" id="faqIconPickerList" role="listbox" aria-label="Material Symbols options"></div>
          <div class="faq-icon-picker__footer">
            <button type="button" class="api-inline-button variant-ghost" id="faqIconPickerClear"><span class="material-symbols-outlined api-inline-icon">backspace</span> <span>Clear selection</span></button> <span class="material-symbols-outlined">done</span> Done
          </div>
        </div>
      </div>
    </section>
  </section>
</div>