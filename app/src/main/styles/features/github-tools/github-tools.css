:root {
  --gh-surface: var(--app-bg-color, var(--md-sys-color-surface));
  --gh-card: var(--app-card-bg-color, var(--md-sys-color-surface-container));
  --gh-card-strong: var(
    --app-outlined-card-bg-color,
    var(--md-sys-color-surface-container-high)
  );
  --gh-outline: var(--app-border-color, var(--md-sys-color-outline));
  --gh-text: var(--app-text-color, #1f1a24);
  --gh-subtext: var(--app-secondary-text-color, #49454f);
  --gh-error-container: color-mix(in srgb, var(--md-sys-color-error, #b3261e) 55%, transparent);
  --gh-on-error-container: var(--md-sys-color-on-error, #f2b8b5);
  --gh-radius-lg: 24px;
  --gh-radius-md: 18px;
  --gh-radius-sm: 12px;
  /* Change Rationale: GitHub cards previously leaned on a deep drop shadow that
   * looked heavy against Material 3 surface colors. Flattening the reusable
   * shadow token to `none` keeps Repo Mapper, Release Stats, Git Patch, and
   * Favorites aligned with the low-elevation layout while still relying on the
   * shared border token for separation.
   */
  --gh-shadow: none;
  --gh-border: 1px solid color-mix(in srgb, var(--gh-outline) 45%, transparent);
  --gh-transition: 160ms ease;
}

.gh-tools-page {
  padding: clamp(1.25rem, 4vw, 2rem);
  background: transparent;
  color: inherit;
}

.gh-tools-section {
  max-width: 1100px;
  margin: 0 auto;
  display: grid;
  gap: 1.5rem;
}

.gh-tools-header {
  display: grid;
  gap: 0.5rem;
}

.gh-tools-header h1 {
  margin: 0;
  font-size: clamp(2.3rem, 3.5vw, 2.9rem);
  /* Change Rationale: GitHub tools headers and badges previously used bold (700) weights that
   * overpowered the card subtitles. Moving to semibold (600) matches Material 3 typography,
   * preserves hierarchy, and improves readability against the dark surfaces.
   */
  font-weight: 600;
  letter-spacing: -0.01em;
}

.gh-md-field,
.gh-form md-outlined-text-field {
  width: 100%;
  --md-outlined-field-container-color: var(--gh-card-strong);
  --md-outlined-field-outline-color: color-mix(in srgb, var(--gh-outline) 60%, transparent);
  --md-outlined-field-focus-outline-color: var(--md-sys-color-primary, #e6e1e5);
  --md-outlined-field-text-color: var(--gh-text);
  --md-outlined-field-label-text-color: var(--gh-subtext);
  --md-outlined-field-hover-outline-color: color-mix(in srgb, var(--md-sys-color-primary, #e6e1e5) 32%, transparent);
}

.gh-md-field md-icon-button {
  border-radius: 14px;
  color: var(--gh-subtext);
}

.gh-md-field md-icon-button.favorited,
.gh-md-field md-icon-button[selected] {
  background: color-mix(in srgb, var(--md-sys-color-primary) 14%, transparent);
}

/* Change Rationale: Favorite icons now use the Material Symbols font directly instead
 * of the `<md-icon>` element. Mirroring the fill and weight adjustments across both
 * hosts keeps the outlined star visible at rest and crisply filled when toggled,
 * matching Material 3's dual-state affordances.
 */
.gh-md-field md-icon-button.favorited md-icon,
.gh-md-field md-icon-button[selected] md-icon,
.gh-md-field md-icon-button.favorited .material-symbols-outlined,
.gh-md-field md-icon-button[selected] .material-symbols-outlined {
  color: var(--md-sys-color-primary);
  font-variation-settings: 'FILL' 1, 'wght' 600, 'GRAD' 0, 'opsz' 24;
}

.filled-icon {
  font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
}

.gh-eyebrow {
  margin: 0;
  color: var(--gh-subtext);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-size: 0.85rem;
  font-weight: 600;
}

.gh-subtext {
  margin: 0;
  color: var(--gh-subtext);
  font-size: 0.95rem;
}

.gh-quick-access {
  display: grid;
  gap: 0.35rem;
  padding: 0.75rem 1rem;
  border-radius: var(--gh-radius-lg);
  border: var(--gh-border);
  background: color-mix(in srgb, var(--gh-card-strong) 75%, transparent);
}

.gh-quick-label {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  font-weight: 600;
  color: var(--gh-text);
}

.gh-chip-row {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  align-items: center;
}

.gh-card {
  background: var(--gh-card);
  border: var(--gh-border);
  border-radius: var(--gh-radius-lg);
  padding: clamp(1rem, 3vw, 1.5rem);
  box-shadow: var(--gh-shadow);
}

.gh-form {
  display: grid;
  gap: 1.25rem;
}

.gh-field-row {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 0.75rem;
  align-items: flex-start;
}

.gh-token-dropdown {
  display: grid;
  gap: 0.75rem;
  flex: 1;
}

.gh-token-dropdown .token-toggle {
  justify-content: space-between;
  width: 100%;
}

/* Change Rationale: Aligning the token reveal with the segmented control prevents the
 * accordion toggle from floating mid-row when the secret inputs expand.
 */
.gh-token-settings .token-toggle {
  align-self: flex-start;
}

/* Change Rationale: The segmented wrapper preserves breathing room and a consistent
 * minimum width so the format toggles sit flush with the token switcher on both desktop
 * and mobile layouts.
 */
.gh-segmented-wrapper {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 0.65rem;
  min-width: 280px;
}

.gh-control-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 1rem;
}

/* Change Rationale: The token accordion lifts the left side of the control row when open.
 * Toggling an explicit `.gh-token-open` state keeps the segmented control aligned to the
 * top of the token panel and preserves spacing on narrow breakpoints.
 */
.gh-control-row.gh-token-open {
  align-items: flex-start;
}

/* Use native disclosure so token inputs stay accessible even if JS fails to load. */
.gh-token-settings {
  border: none;
  padding: 0;
}

.gh-token-settings summary {
  list-style: none;
  display: inline-flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.35rem;
  cursor: pointer;
  border-radius: 999px;
  padding: 0.35rem 0.9rem;
  background: var(--gh-card-strong);
  color: var(--gh-text);
  border: var(--gh-border);
  transition: background var(--gh-transition), color var(--gh-transition),
    box-shadow var(--gh-transition);
}

.gh-token-settings summary::-webkit-details-marker {
  display: none;
}

.gh-token-settings[open] summary {
  background: color-mix(
    in srgb,
    var(--md-sys-color-primary, #e6e1e5) 25%,
    var(--gh-card-strong)
  );
  box-shadow: none;
}

.gh-token-settings summary .chevron {
  transition: transform var(--gh-transition);
}

.gh-token-settings[open] summary .chevron {
  transform: rotate(180deg);
}

.gh-token-settings .material-symbols-outlined {
  font-size: 20px;
}

.gh-token-settings .gh-collapsible {
  margin-top: 0.5rem;
}

.gh-token-visibility {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  color: var(--gh-text);
  font-size: 0.95rem;
}

.gh-token-visibility input[type='checkbox'] {
  width: 1rem;
  height: 1rem;
  accent-color: var(--md-sys-color-primary, #e6e1e5);
  margin: 0;
}

.gh-visibility-icons {
  position: relative;
  width: 24px;
  height: 24px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.gh-visibility-icons .visibility-off,
.gh-visibility-icons .visibility-on {
  position: absolute;
  inset: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: opacity var(--gh-transition);
}

.gh-visibility-icons .visibility-off {
  opacity: 0;
}

.gh-token-visibility.is-visible .visibility-off {
  opacity: 1;
}

.gh-token-visibility.is-visible .visibility-on {
  opacity: 0;
}

/* Change Rationale: The collapsible token container previously inflated padding and added
 * a drop shadow when opening, which nudged the segmented control vertically. Flattening
 * the shadow and tightening the padding keeps the row stable while maintaining visual
 * separation via borders.
 */
/* Change Rationale: Token inputs now sit directly in the accordion without wrapper divs,
 * so the container padding and gap carry the spacing while keeping Material hover/focus
 * rings aligned. A consistent max-height preserves the previous animation timing.
 */
.gh-collapsible {
  display: grid;
  gap: 0.9rem;
  background: color-mix(in srgb, var(--gh-card-strong) 85%, var(--gh-card));
  border: var(--gh-border);
  border-radius: var(--gh-radius-md);
  padding: 0 0.8rem;
  box-shadow: none;
  overflow: hidden;
  opacity: 0;
  max-height: 0;
  pointer-events: none;
  transition: max-height var(--gh-transition), opacity var(--gh-transition),
    padding var(--gh-transition);
}

.gh-collapsible md-outlined-text-field {
  width: 100%;
}

.gh-collapsible:not([hidden]),
.gh-token-settings.is-open .gh-collapsible {
  opacity: 1;
  max-height: 400px;
  padding: 0.8rem;
  pointer-events: auto;
}

.gh-token-settings[open] .gh-collapsible {
  opacity: 1;
  max-height: 400px;
  padding: 0.8rem;
  pointer-events: auto;
}

.gh-inline-actions {
  display: flex;
  justify-content: flex-end;
}

.gh-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.75rem;
}

.gh-actions.end {
  justify-content: flex-end;
}

/* Change Rationale: GitHub tool buttons now rely on Beer CSS defaults for shape,
 * size, and state styling so controls stay consistent across screens. */


.gh-result,
.gh-result-grid {
  display: grid;
  gap: 1rem;
}

.gh-result-grid {
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}

.gh-result-card {
  background: var(--gh-card);
  border: var(--gh-border);
  border-radius: var(--gh-radius-lg);
  padding: 1.2rem;
  display: grid;
  gap: 1rem;
  box-shadow: var(--gh-shadow);
}

.gh-result-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.gh-badge-group {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.gh-stat-pill,
.gh-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.4rem 0.75rem;
  border-radius: var(--gh-radius-sm);
  border: 1px solid color-mix(in srgb, var(--gh-outline) 45%, transparent);
  background: var(--gh-card-strong);
  color: var(--gh-text);
  font-weight: 600;
  font-size: 0.95rem;
}

.gh-action-row {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.gh-action-row.align-end {
  justify-content: flex-end;
}

.gh-output {
  background: var(--gh-card);
  border: var(--gh-border);
  border-radius: var(--gh-radius-lg);
  overflow: hidden;
  box-shadow: var(--gh-shadow);
}

.gh-output-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.85rem 1rem;
  background: var(--gh-card-strong);
  border-bottom: 1px solid color-mix(in srgb, var(--gh-outline) 45%, transparent);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.8rem;
}

.gh-output pre {
  margin: 0;
  padding: 1rem 1.1rem;
  max-height: 60vh;
  overflow: auto;
  font-family: 'JetBrains Mono', 'SFMono-Regular', Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
  background: var(--gh-card);
  color: var(--gh-text);
  font-size: 0.9rem;
  line-height: 1.6;
  white-space: pre-wrap;
  scrollbar-width: thin;
}

.gh-error {
  display: flex;
  align-items: center;
  gap: 0.65rem;
  padding: 0.9rem 1rem;
  border-radius: var(--gh-radius-md);
  background: color-mix(in srgb, var(--gh-error-container) 70%, transparent);
  color: var(--gh-on-error-container);
  border: 1px solid color-mix(in srgb, var(--md-sys-color-error, #b3261e) 40%, transparent);
}

.gh-result-heading {
  display: grid;
  gap: 0.35rem;
}

.gh-title {
  margin: 0;
  font-size: 1.4rem;
  /* Change Rationale: Result headers and stat values drop from bold to semibold (600) to keep
   * the analytics hierarchy readable without overshadowing asset labels, aligning with M3 weight
   * guidance for secondary headlines.
   */
  font-weight: 600;
}

.gh-stat-block {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.9rem 1rem;
  border-radius: var(--gh-radius-md);
  border: var(--gh-border);
  background: var(--gh-card-strong);
}

.gh-stat-value {
  font-size: 1.5rem;
  font-weight: 600;
}

.gh-stack {
  display: grid;
  gap: 0.35rem;
}

.gh-assets {
  display: grid;
  gap: 0.75rem;
}

.gh-asset-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.gh-asset-link {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.35rem 0.75rem;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--gh-outline) 45%, transparent);
  background: color-mix(in srgb, var(--gh-card) 80%, transparent);
  color: var(--gh-text);
  text-decoration: none;
  /* Change Rationale: Asset pills now use semibold (600) so download links stay legible without
   * appearing heavier than the surrounding metadata chips on the release details screen.
   */
  font-weight: 600;
  transition: background var(--gh-transition), border-color var(--gh-transition), color var(--gh-transition);
}

.gh-asset-link .material-symbols-outlined {
  font-size: 20px;
}

.gh-asset-link:hover {
  background: color-mix(in srgb, var(--md-sys-color-primary) 14%, transparent);
  border-color: color-mix(in srgb, var(--md-sys-color-primary) 35%, transparent);
}

.gh-asset-link.is-disabled {
  opacity: 0.72;
  cursor: default;
  pointer-events: none;
}

.gh-release-bar {
  height: 6px;
  background: color-mix(in srgb, var(--gh-outline) 35%, transparent);
  border-radius: 999px;
  overflow: hidden;
}

.gh-release-bar span {
  display: block;
  height: 100%;
  border-radius: inherit;
  background: var(--md-sys-color-primary, #e6e1e5);
}

.gh-overview {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
}

.gh-icon-spot {
  padding: 0.85rem;
  border-radius: 50%;
  background: var(--gh-card-strong);
  border: var(--gh-border);
}

.gh-overview-list {
  display: grid;
  gap: 0.5rem;
}

.gh-overview-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.gh-release-list {
  display: grid;
  gap: 0.5rem;
  max-height: 500px;
  overflow: auto;
  padding-right: 0.1rem;
}

.gh-release-list button {
  border: 1px solid color-mix(in srgb, var(--gh-outline) 45%, transparent);
  background: color-mix(in srgb, var(--gh-card-strong) 80%, var(--gh-card));
  border-radius: var(--gh-radius-sm);
  padding: 0.75rem;
  color: var(--gh-text);
  text-align: left;
  cursor: pointer;
  transition: background var(--gh-transition), border-color var(--gh-transition);
}

.gh-release-list button.active {
  border-color: var(--md-sys-color-primary, #e6e1e5);
  background: color-mix(in srgb, var(--md-sys-color-primary) 16%, transparent);
}

.gh-release-list button .gh-release-bar span {
  background: var(--md-sys-color-primary, #e6e1e5);
}

.gh-release-list button span.gh-muted {
  color: var(--gh-subtext);
}

.gh-badge-row {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.gh-quick-note {
  color: var(--gh-subtext);
  font-size: 0.9rem;
  margin: 0;
}

.gh-favorites-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 1.1rem;
}

/* Change Rationale: Favorites now mirror low-elevation Material cards with solid surfaces
 * and clear hierarchy. The previous gradient/shadow treatment clashed with the GitHub
 * tools surfaces and made button alignment inconsistent on narrow screens.
 */
.gh-favorite-card {
  background: var(--gh-card);
  border: 1px solid color-mix(in srgb, var(--gh-outline) 55%, transparent);
  border-radius: var(--gh-radius-md);
  padding: 1rem;
  display: grid;
  gap: 0.75rem;
  box-shadow: none;
  color: var(--gh-text);
}

.gh-favorite-meta {
  display: grid;
  gap: 0.4rem;
}

.gh-favorite-badge-row {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 0.5rem;
}

.gh-favorite-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.35rem 0.65rem;
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--gh-outline) 45%, transparent);
  background: color-mix(in srgb, var(--gh-card-strong) 75%, var(--gh-card));
  color: var(--gh-text);
  /* Change Rationale: Favorite badges and labels move to semibold (600) to keep their hierarchy
   * aligned with other chips in the tool, reducing visual noise while still highlighting saved items.
   */
  font-weight: 600;
  font-size: 0.9rem;
}

.gh-favorite-heading {
  display: grid;
  gap: 0.25rem;
}

.gh-favorite-slug {
  margin: 0;
  font-family: 'JetBrains Mono', 'SFMono-Regular', Menlo, Monaco, Consolas, 'Liberation Mono',
    'Courier New', monospace;
  font-weight: 600;
  font-size: 1.05rem;
  word-break: break-word;
}

.gh-favorite-card .gh-bold,
.gh-favorite-card h3 {
  margin: 0;
  font-weight: 600;
  color: var(--gh-text);
}

.gh-favorite-card .gh-icon-button {
  background: transparent;
  border-color: color-mix(in srgb, var(--gh-outline) 60%, transparent);
  box-shadow: none;
  align-self: flex-start;
}

.gh-favorite-card .gh-icon-button:hover {
  background: color-mix(in srgb, var(--md-sys-color-primary) 10%, transparent);
  border-color: color-mix(in srgb, var(--md-sys-color-primary) 32%, var(--gh-outline));
}

.gh-favorite-actions {
  display: flex;
  gap: 0.55rem;
  flex-wrap: wrap;
}

.gh-favorite-actions .gh-button,
.gh-favorite-actions .gh-ghost-button {
  flex: 1 1 0;
  min-width: 140px;
  justify-content: center;
  border-color: color-mix(in srgb, var(--gh-outline) 55%, transparent);
  background: color-mix(in srgb, var(--gh-card-strong) 65%, var(--gh-card));
}

.gh-empty {
  display: grid;
  place-items: center;
  text-align: center;
  gap: 0.75rem;
  padding: 3rem 1rem;
  background: var(--gh-card);
  border: var(--gh-border);
  border-radius: var(--gh-radius-lg);
  color: var(--gh-text);
}

.gh-empty-icon {
  width: 72px;
  height: 72px;
  padding: 0.85rem;
  border-radius: 50%;
  background: var(--gh-card-strong);
  border: var(--gh-border);
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.gh-empty-icon .material-symbols-outlined {
  font-size: 32px;
}

.gh-empty-copy h3 {
  margin: 0 0 0.25rem;
  font-size: 1.4rem;
  /* Change Rationale: Empty state headings shift to semibold (600) to keep the feedback
   * gentle while remaining readable against the muted supporting text.
   */
  font-weight: 600;
}

.gh-empty-copy p {
  margin: 0;
  color: var(--gh-subtext);
}

.gh-muted {
  color: var(--gh-subtext);
}

.gh-button.secondary,
.gh-pill-button,
.gh-favorite-card .gh-button {
  background: color-mix(in srgb, var(--gh-card-strong) 80%, var(--gh-card));
  color: var(--gh-text);
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--gh-outline) 45%, transparent);
  padding: 0.6rem 0.9rem;
  /* Change Rationale: Secondary buttons and favorite actions previously sat at semibold (600),
   * which kept them visually loud. Normal weight (400) still reads clearly while shifting emphasis
   * back to color, spacing, and state layers in line with Material 3 guidance for supporting actions.
   */
  font-weight: 400;
  cursor: pointer;
}

.gh-button.secondary:hover,
.gh-pill-button:hover {
  background: color-mix(in srgb, var(--md-sys-color-primary) 12%, transparent);
}

.gh-favorite-card .gh-button.secondary {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
}

.gh-rolling {
  animation: gh-spin 1s linear infinite;
}

@keyframes gh-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@media (max-width: 720px) {
  .gh-floating-row {
    flex-direction: column;
    align-items: stretch;
  }

  .gh-field-row {
    grid-template-columns: 1fr;
  }

  .gh-control-row {
    flex-direction: column;
    align-items: stretch;
  }

  .gh-actions,
  .gh-actions.end,
  .gh-inline-actions {
    justify-content: flex-start;
  }
}
