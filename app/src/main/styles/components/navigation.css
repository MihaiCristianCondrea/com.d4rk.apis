/* Change Rationale: Navigation now leans on Beer CSS defaults. Custom variables,
 * shadows, and color overrides were removed so the drawer inherits the framework's
 * base look while keeping only the mechanics needed for open/close behavior.
 */

/* --- Top App Bar --- */
/* Change Rationale: The top app bar previously applied flex spacing directly on the header,
 * which left the BeerCSS nav layout unused and made headline spacing harder to standardize.
 * Moving alignment to a nested nav element adopts the BeerCSS pattern, keeps the title aligned
 * with the button row, and reinforces Material 3's consistent app bar rhythm.
 */
.app-top-app-bar {
  position: sticky;
  top: 0;
  z-index: 1000;
  width: 100%;
  /* Change Rationale: Provide a filled surface so the app bar is never transparent and
   * smoothly transitions to a higher-emphasis container when scrolling, matching Material 3.
   */
  background-color: var(--md-sys-color-surface);
  color: var(--app-text-color);
  border-bottom: 1px solid color-mix(in srgb, var(--md-sys-color-outline) 18%, transparent);
  transition: background-color 200ms ease, box-shadow 200ms ease, border-color 200ms ease;
}

.app-top-app-bar nav {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  padding: 12px;
}

.app-top-app-bar h5 {
  margin: 0;
}

.app-top-app-bar.scrolled {
  background-color: var(--md-sys-color-surface-container);
  border-bottom-color: transparent;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
}

/* --- Navigation Drawer --- */
/* Change Rationale: Switch drawer styling to target the BeerCSS dialog surface and
 * let the framework handle the left-edge modal animation while we keep theme tokens
 * aligned with the Android green palette.
 */
:root dialog.navigation-drawer {
  inline-size: min(var(--app-drawer-inline-size), 100vw);
  max-width: 100vw;
  height: 100%;
  margin: 0;
  padding: 0;
  border: none;
  border-radius: 0;
  z-index: 1200;
  display: flex;
  flex-direction: column;
  background-color: var(--app-drawer-bg-color);
  color: var(--app-text-color);
  border-right: 1px solid var(--app-border-color);
  overflow: hidden;
}

/* Change Rationale: Clear the native dialog backdrop so the custom overlay
 * handles dimming and blur consistently with the rest of the app shell.
 */
:root dialog.navigation-drawer::backdrop {
  background: transparent;
}

.drawer-overlay {
  position: fixed;
  inset: 0;
  min-height: 100dvh;
  /* Change Rationale: Use the shared overlay token so dimming matches the rest of
   * the theme (and can be tuned centrally).
   */
  background-color: var(--app-overlay-bg-color);
  z-index: 1180;
  opacity: 0;
  visibility: hidden;
  transition: opacity 300ms ease, visibility 300ms ease;
}

.drawer-overlay.open {
  opacity: 1;
  visibility: visible;
}

.drawer-header,
.drawer-footer {
  padding: 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

/* Change Rationale: Align the drawer header nav row so the title and close
 * button share a consistent baseline and match the modal drawer reference.
 */
.drawer-header nav {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
}

.drawer-content {
  flex-grow: 1;
  overflow-y: auto;
}
/* Change Rationale: Drawer content padding removed so list items align to Beer CSS
 * default spacing, preventing the nested lists from drifting horizontally.
 */

/* Change Rationale: Navigation links now explicitly inherit theme colors so active,
 * hover, and focus states remain legible with the Android green palette.
 */
/* Change Rationale: Drawer entries now use the BeerCSS list rhythm from the
 * modal dialog example, so ensure link rows align icons and labels cleanly.
 */
:root dialog.navigation-drawer .drawer-list {
  padding: 0 12px;
  margin: 0;
}

/* Change Rationale: Navigation links now explicitly inherit theme colors so active,
 * hover, and focus states remain legible with the Android green palette.
 */
:root dialog.navigation-drawer .nav-link {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  width: 100%;
  padding: 0.55rem 0.85rem;
  text-decoration: none;
  border-radius: 16px;
}

:root dialog.navigation-drawer .nav-link.active {
  background: color-mix(in srgb, var(--md-sys-color-primary) 18%, transparent);
  color: var(--md-sys-color-primary);
}

:root dialog.navigation-drawer .nav-link:hover {
  background: color-mix(in srgb, var(--md-sys-color-primary) 12%, transparent);
}

:root dialog.navigation-drawer .drawer-section-title {
  padding: 0 20px;
  font-size: 0.9rem;
  color: var(--app-secondary-text-color);
}

:root dialog.navigation-drawer .drawer-divider {
  margin: 8px 16px;
  height: 1px;
  background: color-mix(in srgb, var(--md-sys-color-outline) 30%, transparent);
}

/* Change Rationale: Drawer items now include a title + subtitle stack to mirror
 * the reference drawer layout without adding extra vertical padding.
 */
:root dialog.navigation-drawer .drawer-item-text {
  display: grid;
  gap: 0.15rem;
  line-height: 1.2;
}

:root dialog.navigation-drawer .drawer-item-title {
  font-weight: 500;
}

:root dialog.navigation-drawer .drawer-item-subtitle {
  font-size: 0.75rem;
  color: var(--app-secondary-text-color);
}

.drawer-footer {
  flex-direction: column;
  gap: 8px;
  text-align: center;
}

.drawer-footer .drawer-legal-links {
  display: flex;
  gap: 4px;
  flex-wrap: wrap;
  justify-content: center;
  font-size: 0.875rem;
}

/* Change Rationale: Active nav styling now uses BeerCSS' `.active` state on anchors,
 * so the custom `.nav-item-active` override has been removed to avoid conflicts and
 * keep drawer feedback consistent with framework defaults.
 */
