/* --- FAQ builder enhancements --- */
.faq-onboarding {
  margin: 1.5rem 0;
}

.faq-screen {
  display: grid;
  gap: 1rem;
}

.faq-screen[hidden] {
  display: none;
}

.faq-nav {
  margin: 1.25rem 0 1rem;
}

.faq-nav-card {
  display: block;
  padding: 0.85rem 1rem 1rem;
}

.faq-nav__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.faq-nav__header-actions {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.faq-onboarding-card {
  padding: 1.25rem;
  display: grid;
  gap: 1rem;
}

.faq-onboarding__header h2 {
  margin: 0 0 0.35rem;
}

.faq-onboarding__eyebrow {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.85rem;
  color: var(--app-secondary-text-color);
}

.faq-onboarding__helper {
  margin: 0 0 0.75rem;
  color: var(--app-secondary-text-color);
}

.faq-onboarding__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 0.75rem;
}

.faq-landing-card {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 0.65rem;
  align-items: start;
  padding: 0.9rem 1rem;
  border-radius: 18px;
  border: 1px solid var(--app-border-color);
  background: var(--md-sys-color-surface-container-high);
  color: var(--app-text-color);
  text-align: left;
  cursor: pointer;
  transition: transform 150ms ease, box-shadow 150ms ease,
    border-color 150ms ease, background-color 150ms ease;
}

.faq-landing-card .faq-landing-card__icon {
  width: 42px;
  height: 42px;
  border-radius: 14px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: color-mix(in srgb, var(--md-sys-color-primary) 18%, transparent);
  color: var(--md-sys-color-primary);
  font-size: 24px;
}

.faq-landing-card__eyebrow {
  margin: 0;
  font-size: 0.8rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--app-secondary-text-color);
}

.faq-landing-card__title {
  margin: 0.1rem 0 0.25rem;
  /* Change Rationale: FAQ card headings and remote preset labels previously used bold (700) weights,
   * which overpowered the supporting copy. Moving to semibold (600) keeps the titles prominent while
   * matching Material 3's type scale for section headers.
   */
  font-weight: 600;
}

.faq-landing-card__copy {
  margin: 0;
  color: var(--app-secondary-text-color);
  font-size: 0.92rem;
}

.faq-landing-card.is-active,
.faq-landing-card:hover {
  border-color: color-mix(in srgb, var(--md-sys-color-primary) 45%, var(--app-border-color));
  box-shadow: 0 14px 42px -24px rgba(0, 0, 0, 0.4);
  transform: translateY(-1px);
  background: color-mix(
    in srgb,
    var(--md-sys-color-primary) 10%,
    var(--md-sys-color-surface-container-high)
  );
}

.faq-onboarding__status {
  margin: 0;
  color: var(--app-secondary-text-color);
}

.faq-mode-pulse {
  animation: faq-mode-pulse 600ms ease;
}

@keyframes faq-mode-pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.45);
  }
  100% {
    box-shadow: 0 0 0 18px rgba(99, 102, 241, 0);
  }
}

.faq-segmented__helper {
  margin: 0.5rem 0 0;
  color: var(--app-secondary-text-color);
}

.faq-panel {
  display: grid;
  gap: 1.25rem;
}

.faq-panel[hidden] {
  display: none;
}
.faq-icon-meta {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-top: 0.5rem;
  flex-wrap: wrap;
}

.faq-icon-preview {
  width: 52px;
  height: 52px;
  border-radius: 16px;
  background: var(--md-sys-color-surface-container-highest);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 30px;
  color: var(--md-sys-color-primary);
  transition: background-color 160ms ease, color 160ms ease;
}

.faq-icon-preview[data-empty='true'] {
  color: var(--app-secondary-text-color);
}

.faq-answer-preview-section {
  margin-top: 1rem;
  border-radius: 18px;
  border: 1px solid var(--app-border-color);
  background: var(--md-sys-color-surface-container-high);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.faq-answer-preview-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  padding: 0.85rem 1rem;
  background: var(--md-sys-color-surface-container-highest);
}

.faq-answer-preview-title {
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--app-text-color);
}

.faq-answer-preview {
  padding: 1rem 1.1rem;
  display: grid;
  gap: 0.75rem;
  align-content: start;
  min-height: 140px;
  font-size: 0.95rem;
  line-height: 1.6;
  color: var(--app-text-color);
  background: var(--md-sys-color-surface);
}

.faq-product-loader {
  margin-bottom: 0.5rem;
}

.catalog-forms {
  display: grid;
  gap: 0.75rem;
}

.faq-panel .builder-layout {
  grid-template-columns: minmax(0, 1fr);
}

#faqCatalogBuilder {
  grid-template-columns: minmax(0, 1fr);
}

@media (min-width: 960px) {
  #faqCatalogBuilder {
    grid-template-columns: minmax(0, 1fr) minmax(320px, 380px);
    align-items: start;
  }

  .faq-panel .builder-layout {
    grid-template-columns: minmax(0, 1fr) minmax(320px, 380px);
    align-items: start;
  }
}

.catalog-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.catalog-actions__buttons {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  align-items: center;
}

.catalog-helper {
  margin: 0.25rem 0 0;
  color: var(--app-secondary-text-color);
}

.catalog-card {
  border: 1px solid var(--app-border-color);
  border-radius: 18px;
}

.catalog-card__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}

.catalog-card__actions {
  display: inline-flex;
  gap: 0.35rem;
  align-items: center;
}

.catalog-card__fields {
  display: grid;
  gap: 0.75rem;
}

.catalog-sources__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}

.catalog-sources__header h4 {
  margin: 0;
}

.catalog-sources {
  display: grid;
  gap: 0.5rem;
}

.catalog-source {
  border: 1px dashed var(--app-border-color);
  border-radius: 12px;
  padding: 0.75rem;
  background: var(--md-sys-color-surface-container-high);
  display: grid;
  gap: 0.5rem;
}

.catalog-source__actions {
  display: flex;
  justify-content: flex-end;
}

.faq-answer-preview[data-empty='true'] {
  color: var(--app-secondary-text-color);
}

.faq-answer-preview[data-empty='true']::before {
  content: 'Preview your formatted HTML here.';
  font-style: italic;
}

.faq-answer-preview p {
  margin: 0;
}

.faq-answer-preview ul,
.faq-answer-preview ol {
  margin: 0;
  padding-inline-start: 1.25rem;
}

.faq-answer-preview a {
  color: var(--md-sys-color-primary);
  text-decoration: none;
}

.faq-answer-preview a:hover {
  text-decoration: underline;
}

.faq-html-format-button {
  min-width: 0;
}

.faq-icon-picker {
  position: fixed;
  inset: 0;
  z-index: 1200;
  display: grid;
  place-items: center;
  padding: 2rem;
}

.faq-icon-picker[hidden] {
  display: none;
}

.faq-icon-picker__backdrop {
  position: absolute;
  inset: 0;
  background: rgba(12, 18, 28, 0.5);
}

.faq-icon-picker__panel {
  position: relative;
  width: min(960px, 100%);
  max-height: min(90vh, 760px);
  display: flex;
  flex-direction: column;
  gap: 1rem;
  background: var(--md-sys-color-surface-container-high);
  border-radius: 28px;
  box-shadow: 0 30px 70px rgba(15, 20, 30, 0.24);
  overflow: hidden;
}

.faq-icon-picker__header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 1rem;
  padding: 1.4rem 1.6rem 1rem;
}

.faq-icon-picker__header h2 {
  margin: 0;
  font-size: 1.3rem;
  font-weight: 650;
  color: var(--app-text-color);
}

.faq-icon-picker__header p {
  margin: 0.35rem 0 0;
  color: var(--app-secondary-text-color);
  font-size: 0.95rem;
  line-height: 1.55;
}

.faq-icon-picker__close {
  border: none;
  background: transparent;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  color: var(--app-secondary-text-color);
  cursor: pointer;
  transition: background-color 160ms ease, color 160ms ease;
}

.faq-icon-picker__close:hover {
  /* Change Rationale: The hover background previously used a fixed gray rgba token that
     drifted from the active theme palette in dark mode. Switching to Material color-mix
     keeps the state layer aligned with Material 3 dynamic color behavior and improves
     contrast consistency across themes. */
  background: color-mix(in srgb, var(--md-sys-color-on-surface) 12%, transparent);
  color: var(--app-text-color);
}

.faq-icon-picker__meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  padding: 0 1.6rem;
  color: var(--app-secondary-text-color);
  font-size: 0.9rem;
}

.faq-icon-picker__meta strong {
  color: var(--app-text-color);
}

.faq-icon-picker__search {
  padding: 0 1.6rem;
}

.faq-icon-picker__search .api-field {
  width: 100%;
}

.faq-icon-picker__search .api-field-label {
  color: var(--app-secondary-text-color);
  font-weight: 600;
}

.faq-icon-picker__search .api-input {
  border-radius: 999px;
  border: 1px solid color-mix(in srgb, var(--md-sys-color-on-surface) 20%, transparent);
  background: color-mix(in srgb, var(--md-sys-color-surface-container-high) 72%, var(--md-sys-color-surface));
  padding-inline: 1rem;
  transition: border-color 160ms ease, box-shadow 160ms ease, background-color 160ms ease;
}

.faq-icon-picker__search .api-input::placeholder {
  color: color-mix(in srgb, var(--md-sys-color-on-surface-variant) 76%, transparent);
}

.faq-icon-picker__search .api-input:hover {
  border-color: color-mix(in srgb, var(--md-sys-color-primary) 38%, var(--md-sys-color-outline));
  background: color-mix(in srgb, var(--md-sys-color-surface-container) 82%, var(--md-sys-color-surface));
}

.faq-icon-picker__search .api-input:focus-visible {
  outline: none;
  border-color: var(--md-sys-color-primary);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--md-sys-color-primary) 22%, transparent);
}

.faq-icon-picker__loading,
.faq-icon-picker__empty,
.faq-icon-picker__limit {
  margin: 0;
  padding: 0 1.6rem;
  color: var(--app-secondary-text-color);
  font-size: 0.9rem;
}

.faq-icon-picker__grid {
  flex: 1 1 auto;
  padding: 0 1.6rem 1.6rem;
  overflow-y: auto;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 0.75rem;
}

.faq-icon-picker__option {
  border: 1px solid var(--app-border-color);
  border-radius: 18px;
  background: var(--md-sys-color-surface);
  display: grid;
  gap: 0.35rem;
  align-content: center;
  justify-items: center;
  padding: 1rem 0.75rem;
  cursor: pointer;
  transition: border-color 140ms ease, box-shadow 140ms ease, transform 140ms ease;
  color: var(--app-text-color);
}

.faq-icon-picker__option:hover {
  border-color: var(--md-sys-color-primary);
  box-shadow: 0 12px 28px color-mix(in srgb, var(--md-sys-color-primary) 18%, transparent);
  transform: translateY(-2px);
}

.faq-icon-picker__option.is-selected {
  border-color: var(--md-sys-color-primary);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--md-sys-color-primary) 28%, transparent);
}

.faq-icon-picker__icon {
  font-size: 28px;
  color: var(--md-sys-color-primary);
}

.faq-icon-picker__label {
  font-size: 0.9rem;
  text-align: center;
}

.faq-icon-picker__footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
  padding: 0 1.6rem 1.6rem;
}

.faq-icon-picker__footer md-filled-tonal-button {
  --md-filled-tonal-button-container-shape: var(--app-button-shape);
}

@media (max-width: 720px) {
  .faq-icon-picker {
    padding: 1.25rem;
  }
  .faq-icon-picker__panel {
    border-radius: 24px;
  }
  .faq-icon-picker__meta {
    flex-direction: column;
    align-items: flex-start;
  }
  .faq-icon-picker__grid {
    grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
  }
}

.builder-remote-controls md-filled-tonal-button::part(button) { 
  height: 100%;
  min-height: 100%;
}

.builder-remote-presets {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  align-items: center;
}

.builder-remote-picker {
  gap: 0.75rem;
}

.builder-remote-picker-select {
  flex: 1 1 220px;
  min-width: 220px;
}

.builder-remote-picker-select .api-field {
  margin: 0;
}

.builder-remote-presets-label {
  font-size: 0.75rem;
  font-weight: 600;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: var(--app-secondary-text-color);
}

.builder-remote-presets md-text-button {
  --md-text-button-container-shape: var(--app-button-shape);
  --md-text-button-label-text-size: 0.85rem;
  --md-text-button-hover-label-text-color: var(--md-sys-color-primary);
  --md-text-button-pressed-label-text-color: var(--md-sys-color-primary);
}

.builder-github-launch {
  display: grid;
  gap: 0.5rem;
  align-content: start;
}

.builder-github-helper {
  margin: 0;
  font-size: 0.85rem;
  color: var(--app-secondary-text-color);
}

.github-dialog {
  --md-dialog-container-shape: 28px;
}

.github-dialog-content {
  display: grid;
  gap: 1.25rem;
}

.github-step {
  display: grid;
  gap: 1rem;
  min-width: 0;
}

.github-step :where(md-outlined-text-field, md-outlined-select) {
  --github-step-field-shape: var(--app-field-shape);
  --md-outlined-text-field-container-shape: var(--github-step-field-shape);
  --md-outlined-select-container-shape: var(--github-step-field-shape);
  --md-outlined-field-container-shape: var(--github-step-field-shape);
  width: 100%;
  max-width: 100%;
  min-width: 0;
  box-sizing: border-box;
}

.github-step[hidden] {
  display: none;
}

.github-step-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  align-items: center;
}

.github-status {
  min-height: 2.5rem;
}

