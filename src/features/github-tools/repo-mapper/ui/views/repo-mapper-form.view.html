<!-- Change Rationale: Repo Mapper text inputs now use BeerCSS `field border round`
     markup with inline helper/error outputs to match the canonical input docs. -->
<form id="mapper-form" class="gh-form" autocomplete="off" name="mapper-form">
  <div class="gh-field-row gh-repo-field">
    <div id="mapper-url-field" class="field label border round gh-input-field">
      <input
        id="mapper-url"
        name="mapper-url"
        type="text"
        class="gh-input"
        placeholder=" "
        autocomplete="off"
        aria-describedby="mapper-url-helper mapper-url-error"
        list="mapper-datalist"
        inputmode="url"
        required
      />
      <label for="mapper-url">Repository URL</label>
      <output id="mapper-url-helper" class="gh-helper-text">Build a clean repo tree from a GitHub URL, owner/repo slug, or compact OwnerRepo name with a dot.</output>
      <output id="mapper-url-error" class="gh-error-text invalid" hidden>Enter a GitHub URL or owner/repo slug.</output>
    </div>
    <button id="mapper-fav-btn" class="circle border gh-favorite-button wave" type="button" aria-pressed="false" aria-label="Favorite repository">
      <span class="material-symbols-outlined" aria-hidden="true">star</span>
    </button>
  </div>
  <div class="gh-control-row">
    <div class="gh-token-settings" id="mapper-token-settings">
      <button class="tonal round token-toggle wave" id="mapper-token-reveal" aria-expanded="false" type="button">
        <span class="material-symbols-outlined">vpn_key</span>
        <span class="favorite-label">Token settings</span>
        <span class="material-symbols-outlined">expand_more</span>
      </button>
      <div class="gh-collapsible" id="mapper-token-wrapper" hidden>
        <div id="mapper-token-field" class="field label border round gh-input-field">
          <input id="mapper-token" name="mapper-token" type="password" class="gh-input" placeholder=" " autocomplete="off" aria-describedby="mapper-token-helper mapper-token-error" spellcheck="false" />
          <label for="mapper-token">Personal Access Token (optional)</label>
          <output id="mapper-token-helper" class="gh-helper-text">Use when working with private repositories.</output>
          <output id="mapper-token-error" class="gh-error-text invalid" hidden>Token required for private repos.</output>
        </div>
        <div class="gh-token-visibility">
          <label><input id="mapper-token-toggle" type="checkbox" /><span data-token-visibility-label>Show token</span></label>
        </div>
      </div>
    </div>
    <!-- Change Rationale: Repo Mapper format toggles now use BeerCSS `nav.group` semantics so
         only one option is visually active while preserving the existing IDs and ARIA contracts. -->
    <nav class="gh-segmented-wrapper group mapper-format-toggle" role="group" aria-label="Select mapper output format" id="mapper-format">
      <button id="btn-format-ascii" value="ascii" class="border left-round active wave" type="button" aria-pressed="true" aria-selected="true">
        <span class="material-symbols-outlined">terminal</span>
        <span>ASCII</span>
      </button>
      <button id="btn-format-paths" value="paths" class="border right-round wave" type="button" aria-pressed="false" aria-selected="false">
        <span class="material-symbols-outlined">view_list</span>
        <span>Paths</span>
      </button>
    </nav>
  </div>
  <div class="gh-actions end">
    <button type="submit" id="mapper-submit" class="round app-ui-button wave">
      <span class="material-symbols-outlined">terminal</span>
      <span>Generate Map</span>
    </button>
  </div>
</form>
