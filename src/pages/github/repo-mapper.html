<div class="gh-tools-page">
  <section class="gh-tools-section">
    <header class="gh-tools-header">
      <p class="gh-eyebrow">GitHub Tools</p>
      <h1>Repo Mapper</h1>
      <p class="gh-subtext">Generate ASCII directory trees or path lists for any repository.</p>
    </header>

    <div class="gh-card">
      <form id="mapper-form" class="gh-form" autocomplete="off">
        <div class="gh-field-row">
          <md-outlined-text-field
            id="mapper-url"
            name="mapper-url"
            type="url"
            label="Repository URL"
            placeholder="https://github.com/owner/repo or owner/repo"
            supporting-text="Paste a GitHub repository URL or slug"
            required
            autocomplete="off"
          >
            <md-icon slot="leading-icon"
              ><span class="material-symbols-outlined">link</span></md-icon
            >
          </md-outlined-text-field>
          <button type="button" id="mapper-fav-btn" class="gh-pill-button" hidden aria-pressed="false">
            <span class="material-symbols-outlined">star</span>
            <span class="favorite-label">Favorite</span>
          </button>
        </div>

        <div class="gh-control-row">
          <div class="gh-token-dropdown" id="mapper-token-settings">
            <button type="button" class="gh-chip-button token-toggle" id="mapper-token-reveal" aria-expanded="false">
              <span class="material-symbols-outlined">vpn_key</span>
              <span class="favorite-label">Token settings</span>
              <span class="material-symbols-outlined chevron" aria-hidden="true">expand_more</span>
            </button>
            <div class="gh-collapsible" id="mapper-token-wrapper" hidden>
              <md-outlined-text-field
                id="mapper-token"
                name="mapper-token"
                type="password"
                label="Personal Access Token (optional)"
                placeholder="ghp_exampletoken"
                autocomplete="off"
              >
                <md-icon slot="leading-icon"
                  ><span class="material-symbols-outlined">shield_lock</span></md-icon
                >
              </md-outlined-text-field>
              <label class="gh-token-visibility" for="mapper-token-toggle">
                <input type="checkbox" id="mapper-token-toggle" />
                <span data-token-visibility-label>Show token</span>
              </label>
            </div>
          </div>
          <div class="gh-segmented" id="mapper-format">
            <button type="button" id="btn-format-ascii" class="active">
              <span class="material-symbols-outlined">terminal</span>
              <span>ASCII</span>
            </button>
            <span class="gh-segmented-divider" aria-hidden="true"></span>
            <button type="button" id="btn-format-paths">
              <span class="material-symbols-outlined">view_list</span>
              <span>Paths</span>
            </button>
          </div>
        </div>

        <div class="gh-actions end">
          <button type="submit" id="mapper-submit" class="gh-primary-button">
            <span class="material-symbols-outlined">terminal</span>
            <span>Generate Map</span>
          </button>
        </div>
      </form>
    </div>

    <div id="mapper-error" class="gh-error" hidden>
      <span class="material-symbols-outlined">error</span>
      <span data-error-text>Unable to process repository.</span>
    </div>

    <div id="mapper-result" class="gh-result" hidden>
      <div class="gh-result-bar">
        <div class="gh-badge-group">
          <span class="gh-stat-pill"><span id="mapper-stats-folders">0</span> Folders</span>
          <span class="gh-stat-pill"><span id="mapper-stats-files">0</span> Files</span>
        </div>
        <button type="button" id="mapper-copy-btn" class="gh-ghost-button">
          <span class="material-symbols-outlined">content_copy</span>
          <span>Copy Code</span>
        </button>
      </div>
      <div class="gh-output">
        <div class="gh-output-header">
          <span class="material-symbols-outlined">description</span>
          <span>Output</span>
        </div>
        <pre><code id="mapper-code"></code></pre>
      </div>
    </div>
  </section>
</div>

<datalist id="mapper-datalist"></datalist>
