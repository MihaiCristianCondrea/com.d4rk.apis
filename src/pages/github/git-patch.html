<div class="animate-in fade-in slide-in-from-bottom-4 duration-500 space-y-6">
    <div class="github-tools-header">
        <h1>Git Patch</h1>
        <p>Extract raw .patch files from commits for git apply.</p>
    </div>

    <form id="gitPatchForm" class="search-card">
        <div class="search-card-field-container">
            <md-outlined-text-field label="Commit URL" id="commitUrl" required placeholder="https://github.com/owner/repo/commit/sha" list="commitUrlSuggestions" class="search-card-input"></md-outlined-text-field>
            <datalist id="commitUrlSuggestions"></datalist>
            <div class="token-toggle">
                <button
                    type="button"
                    class="token-toggle-button"
                    id="gitPatchTokenToggle"
                    aria-controls="gitPatchTokenContainer"
                    data-label="Add GitHub token (optional)"
                    data-open-label="Hide token field"
                >
                    <span class="material-symbols-outlined">key_vertical</span>
                    <span class="token-toggle-label">Add GitHub token (optional)</span>
                    <span class="material-symbols-outlined token-toggle-chevron">expand_more</span>
                </button>
                <div class="token-input" id="gitPatchTokenContainer" hidden>
                    <md-outlined-text-field label="GitHub Token (Optional)" id="patchToken" placeholder="Enter token for private repos" class="search-card-input"></md-outlined-text-field>
                </div>
            </div>
        </div>
        <div class="search-card-controls">
            <div class="search-card-actions">
                <button type="button" id="gitPatchFavoriteButton" class="favorite-button" aria-live="polite" disabled>
                    <span class="material-symbols-outlined">star_border</span>
                    <span class="favorite-label">Favorite</span>
                </button>
                <md-filled-button type="submit" class="search-card-submit-button" id="gitPatchSubmit" disabled>
                    <span slot="icon" class="material-symbols-outlined">difference</span>
                    Get Patch
                </md-filled-button>
            </div>
        </div>
    </form>

    <div id="gitPatchError" class="error-message" style="display: none;"></div>

    <div id="gitPatchResult" class="result-container patch-result" style="display: none;">
        <div class="result-header">
            <div class="result-stats">
                 <span class="result-chip">
                     <span class="material-symbols-outlined">check</span>
                     Ready to Apply
                 </span>
            </div>
            <div class="result-actions">
                 <md-filled-tonal-button id="downloadPatch">
                    <span slot="icon" class="material-symbols-outlined">download</span>
                    Download .patch
                </md-filled-tonal-button>
                <md-filled-tonal-button id="copyPatch">
                    <span slot="icon" class="material-symbols-outlined">content_copy</span>
                    Copy
                </md-filled-tonal-button>
            </div>
        </div>
        <div class="code-output patch-output">
            <div class="output-header">
                <span class="material-symbols-outlined">integration_instructions</span>
                <span class="text-xs font-mono">PATCH</span>
            </div>
            <div class="output-body">
                <pre><code id="patchContent"></code></pre>
            </div>
        </div>
    </div>
</div>
